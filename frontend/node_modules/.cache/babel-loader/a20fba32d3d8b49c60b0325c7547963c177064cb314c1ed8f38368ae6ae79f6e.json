{"ast":null,"code":"import React,{useState,useEffect}from'react';import TrackCard from'../components/TrackCard';import{useDeezer}from'../hooks/useDeezer';import{usePlayer}from'../context/PlayerContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[chartTracks,setChartTracks]=useState([]);const[genres,setGenres]=useState([]);const{getChart,getGenres,loading,error}=useDeezer();const{playQueue}=usePlayer();useEffect(()=>{loadInitialData();},[]);const loadInitialData=async()=>{try{// Load chart tracks\nconst chartData=await getChart(20);if(chartData!==null&&chartData!==void 0&&chartData.data){setChartTracks(chartData.data);}// Load genres\nconst genresData=await getGenres();if(genresData!==null&&genresData!==void 0&&genresData.data){setGenres(genresData.data.slice(0,8));// Show first 8 genres\n}}catch(err){console.error('Failed to load initial data:',err);}};const handlePlayAll=()=>{if(chartTracks.length>0){playQueue(chartTracks,0);}};if(loading&&chartTracks.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-title\",children:[\"Good \",getGreeting(),\"! \\uD83C\\uDFB5\"]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Trending Now\"}),chartTracks.length>0&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handlePlayAll,children:\"\\u25B6\\uFE0F Play All\"})]}),chartTracks.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:chartTracks.map(track=>/*#__PURE__*/_jsx(TrackCard,{track:track},track.id))}):/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#181818',padding:'40px',borderRadius:'8px',textAlign:'center',color:'#b3b3b3'},children:\"Unable to load trending tracks. Please try again later.\"})]}),genres.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Browse Genres\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-3\",children:genres.map(genre=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{background:\"linear-gradient(135deg, \".concat(getRandomGradient(),\")\"),height:'120px',display:'flex',alignItems:'center',justifyContent:'center',position:'relative',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'18px',fontWeight:'600',textAlign:'center',zIndex:1},children:genre.name})},genre.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{textAlign:'center',padding:'30px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'15px'},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'10px'},children:\"Discover Music\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#b3b3b3',fontSize:'14px'},children:\"Search for your favorite artists, albums, and tracks\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{textAlign:'center',padding:'30px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'15px'},children:\"\\uD83C\\uDFB5\"}),/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'10px'},children:\"Music Player\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#b3b3b3',fontSize:'14px'},children:\"Control your music playback and manage your queue\"})]})]})]})]});};// Helper function to get greeting based on time\nconst getGreeting=()=>{const hour=new Date().getHours();if(hour<12)return'morning';if(hour<18)return'afternoon';return'evening';};// Helper function to get random gradient colors\nconst getRandomGradient=()=>{const gradients=['#ff6b6b, #4ecdc4','#45b7d1, #96ceb4','#feca57, #ff9ff3','#48dbfb, #0abde3','#ff9f43, #feca57','#5f27cd, #00d2d3','#a55eea, #26de81','#fd79a8, #6c5ce7'];return gradients[Math.floor(Math.random()*gradients.length)];};export default Home;","map":{"version":3,"names":["React","useState","useEffect","TrackCard","useDeezer","usePlayer","jsx","_jsx","jsxs","_jsxs","Home","chartTracks","setChartTracks","genres","setGenres","getChart","getGenres","loading","error","playQueue","loadInitialData","chartData","data","genresData","slice","err","console","handlePlayAll","length","className","children","getGreeting","style","display","justifyContent","alignItems","marginBottom","onClick","map","track","id","backgroundColor","padding","borderRadius","textAlign","color","genre","background","concat","getRandomGradient","height","position","overflow","fontSize","fontWeight","zIndex","name","hour","Date","getHours","gradients","Math","floor","random"],"sources":["/workspace/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport TrackCard from '../components/TrackCard';\nimport { useDeezer } from '../hooks/useDeezer';\nimport { usePlayer } from '../context/PlayerContext';\n\nconst Home = () => {\n  const [chartTracks, setChartTracks] = useState([]);\n  const [genres, setGenres] = useState([]);\n  const { getChart, getGenres, loading, error } = useDeezer();\n  const { playQueue } = usePlayer();\n\n  useEffect(() => {\n    loadInitialData();\n  }, []);\n\n  const loadInitialData = async () => {\n    try {\n      // Load chart tracks\n      const chartData = await getChart(20);\n      if (chartData?.data) {\n        setChartTracks(chartData.data);\n      }\n\n      // Load genres\n      const genresData = await getGenres();\n      if (genresData?.data) {\n        setGenres(genresData.data.slice(0, 8)); // Show first 8 genres\n      }\n    } catch (err) {\n      console.error('Failed to load initial data:', err);\n    }\n  };\n\n  const handlePlayAll = () => {\n    if (chartTracks.length > 0) {\n      playQueue(chartTracks, 0);\n    }\n  };\n\n  if (loading && chartTracks.length === 0) {\n    return (\n      <div className=\"page\">\n        <div className=\"loading\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"page\">\n      <div className=\"page-title\">\n        Good {getGreeting()}! üéµ\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          {error}\n        </div>\n      )}\n\n      {/* Trending Section */}\n      <div className=\"section\">\n        <div style={{ \n          display: 'flex', \n          justifyContent: 'space-between', \n          alignItems: 'center',\n          marginBottom: '20px' \n        }}>\n          <h2 className=\"section-title\">Trending Now</h2>\n          {chartTracks.length > 0 && (\n            <button className=\"btn\" onClick={handlePlayAll}>\n              ‚ñ∂Ô∏è Play All\n            </button>\n          )}\n        </div>\n\n        {chartTracks.length > 0 ? (\n          <div className=\"search-results\">\n            {chartTracks.map((track) => (\n              <TrackCard \n                key={track.id} \n                track={track} \n              />\n            ))}\n          </div>\n        ) : (\n          <div style={{ \n            backgroundColor: '#181818', \n            padding: '40px', \n            borderRadius: '8px',\n            textAlign: 'center',\n            color: '#b3b3b3'\n          }}>\n            Unable to load trending tracks. Please try again later.\n          </div>\n        )}\n      </div>\n\n      {/* Genres Section */}\n      {genres.length > 0 && (\n        <div className=\"section\">\n          <h2 className=\"section-title\">Browse Genres</h2>\n          <div className=\"grid grid-3\">\n            {genres.map((genre) => (\n              <div \n                key={genre.id}\n                className=\"card\"\n                style={{\n                  background: `linear-gradient(135deg, ${getRandomGradient()})`,\n                  height: '120px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  position: 'relative',\n                  overflow: 'hidden'\n                }}\n              >\n                <h3 style={{ \n                  fontSize: '18px', \n                  fontWeight: '600',\n                  textAlign: 'center',\n                  zIndex: 1\n                }}>\n                  {genre.name}\n                </h3>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Recently Played Section (Placeholder) */}\n      <div className=\"section\">\n        <h2 className=\"section-title\">Quick Actions</h2>\n        <div className=\"grid grid-2\">\n          <div className=\"card\" style={{ textAlign: 'center', padding: '30px' }}>\n            <div style={{ fontSize: '48px', marginBottom: '15px' }}>üîç</div>\n            <h3 style={{ marginBottom: '10px' }}>Discover Music</h3>\n            <p style={{ color: '#b3b3b3', fontSize: '14px' }}>\n              Search for your favorite artists, albums, and tracks\n            </p>\n          </div>\n          \n          <div className=\"card\" style={{ textAlign: 'center', padding: '30px' }}>\n            <div style={{ fontSize: '48px', marginBottom: '15px' }}>üéµ</div>\n            <h3 style={{ marginBottom: '10px' }}>Music Player</h3>\n            <p style={{ color: '#b3b3b3', fontSize: '14px' }}>\n              Control your music playback and manage your queue\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Helper function to get greeting based on time\nconst getGreeting = () => {\n  const hour = new Date().getHours();\n  if (hour < 12) return 'morning';\n  if (hour < 18) return 'afternoon';\n  return 'evening';\n};\n\n// Helper function to get random gradient colors\nconst getRandomGradient = () => {\n  const gradients = [\n    '#ff6b6b, #4ecdc4',\n    '#45b7d1, #96ceb4',\n    '#feca57, #ff9ff3',\n    '#48dbfb, #0abde3',\n    '#ff9f43, #feca57',\n    '#5f27cd, #00d2d3',\n    '#a55eea, #26de81',\n    '#fd79a8, #6c5ce7'\n  ];\n  \n  return gradients[Math.floor(Math.random() * gradients.length)];\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}