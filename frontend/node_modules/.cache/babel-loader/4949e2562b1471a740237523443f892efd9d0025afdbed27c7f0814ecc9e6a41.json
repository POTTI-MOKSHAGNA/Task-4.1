{"ast":null,"code":"import React from'react';import{usePlayer}from'../context/PlayerContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AudioPlayer=()=>{var _currentTrack$album,_currentTrack$artist,_currentTrack$artist2;const{currentTrack,isPlaying,currentTime,duration,volume,togglePlayPause,seekTo,playNext,playPrevious,setVolume,formatTime}=usePlayer();if(!currentTrack){return null;}const handleProgressClick=e=>{const progressBar=e.currentTarget;const rect=progressBar.getBoundingClientRect();const x=e.clientX-rect.left;const percentage=x/rect.width;const newTime=percentage*duration;seekTo(newTime);};const handleVolumeClick=e=>{const volumeBar=e.currentTarget;const rect=volumeBar.getBoundingClientRect();const x=e.clientX-rect.left;const percentage=x/rect.width;setVolume(Math.max(0,Math.min(1,percentage)));};const progressPercentage=duration?currentTime/duration*100:0;const volumePercentage=volume*100;return/*#__PURE__*/_jsxs(\"div\",{className:\"audio-player\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"player-track-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_currentTrack$album=currentTrack.album)===null||_currentTrack$album===void 0?void 0:_currentTrack$album.cover_small)||((_currentTrack$artist=currentTrack.artist)===null||_currentTrack$artist===void 0?void 0:_currentTrack$artist.picture_small)||'/placeholder-album.png',alt:currentTrack.title,onError:e=>{e.target.src='/placeholder-album.png';}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"track-title\",style:{fontSize:'14px',marginBottom:'4px'},children:currentTrack.title}),/*#__PURE__*/_jsx(\"div\",{className:\"track-artist\",style:{fontSize:'12px'},children:(_currentTrack$artist2=currentTrack.artist)===null||_currentTrack$artist2===void 0?void 0:_currentTrack$artist2.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"player-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"player-button\",onClick:playPrevious,children:\"\\u23EE\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"player-button play-button\",onClick:togglePlayPause,children:isPlaying?'‚è∏Ô∏è':'‚ñ∂Ô∏è'}),/*#__PURE__*/_jsx(\"button\",{className:\"player-button\",onClick:playNext,children:\"\\u23ED\\uFE0F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"time-display\",children:formatTime(currentTime)}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",onClick:handleProgressClick,children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(progressPercentage,\"%\")}})}),/*#__PURE__*/_jsx(\"span\",{className:\"time-display\",children:formatTime(duration)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"volume-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"player-button\",children:volume===0?'üîá':volume<0.5?'üîâ':'üîä'}),/*#__PURE__*/_jsx(\"div\",{className:\"volume-slider\",onClick:handleVolumeClick,children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(volumePercentage,\"%\")}})})]})]});};export default AudioPlayer;","map":{"version":3,"names":["React","usePlayer","jsx","_jsx","jsxs","_jsxs","AudioPlayer","_currentTrack$album","_currentTrack$artist","_currentTrack$artist2","currentTrack","isPlaying","currentTime","duration","volume","togglePlayPause","seekTo","playNext","playPrevious","setVolume","formatTime","handleProgressClick","e","progressBar","currentTarget","rect","getBoundingClientRect","x","clientX","left","percentage","width","newTime","handleVolumeClick","volumeBar","Math","max","min","progressPercentage","volumePercentage","className","children","src","album","cover_small","artist","picture_small","alt","title","onError","target","style","fontSize","marginBottom","name","onClick","concat"],"sources":["/workspace/frontend/src/components/AudioPlayer.js"],"sourcesContent":["import React from 'react';\nimport { usePlayer } from '../context/PlayerContext';\n\nconst AudioPlayer = () => {\n  const {\n    currentTrack,\n    isPlaying,\n    currentTime,\n    duration,\n    volume,\n    togglePlayPause,\n    seekTo,\n    playNext,\n    playPrevious,\n    setVolume,\n    formatTime\n  } = usePlayer();\n\n  if (!currentTrack) {\n    return null;\n  }\n\n  const handleProgressClick = (e) => {\n    const progressBar = e.currentTarget;\n    const rect = progressBar.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const percentage = x / rect.width;\n    const newTime = percentage * duration;\n    seekTo(newTime);\n  };\n\n  const handleVolumeClick = (e) => {\n    const volumeBar = e.currentTarget;\n    const rect = volumeBar.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const percentage = x / rect.width;\n    setVolume(Math.max(0, Math.min(1, percentage)));\n  };\n\n  const progressPercentage = duration ? (currentTime / duration) * 100 : 0;\n  const volumePercentage = volume * 100;\n\n  return (\n    <div className=\"audio-player\">\n      {/* Current Track Info */}\n      <div className=\"player-track-info\">\n        <img \n          src={currentTrack.album?.cover_small || currentTrack.artist?.picture_small || '/placeholder-album.png'} \n          alt={currentTrack.title}\n          onError={(e) => {\n            e.target.src = '/placeholder-album.png';\n          }}\n        />\n        <div>\n          <div className=\"track-title\" style={{ fontSize: '14px', marginBottom: '4px' }}>\n            {currentTrack.title}\n          </div>\n          <div className=\"track-artist\" style={{ fontSize: '12px' }}>\n            {currentTrack.artist?.name}\n          </div>\n        </div>\n      </div>\n\n      {/* Player Controls */}\n      <div className=\"player-controls\">\n        <div className=\"player-buttons\">\n          <button className=\"player-button\" onClick={playPrevious}>\n            ‚èÆÔ∏è\n          </button>\n          <button \n            className=\"player-button play-button\" \n            onClick={togglePlayPause}\n          >\n            {isPlaying ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}\n          </button>\n          <button className=\"player-button\" onClick={playNext}>\n            ‚è≠Ô∏è\n          </button>\n        </div>\n\n        <div className=\"progress-container\">\n          <span className=\"time-display\">{formatTime(currentTime)}</span>\n          <div \n            className=\"progress-bar\"\n            onClick={handleProgressClick}\n          >\n            <div \n              className=\"progress-fill\"\n              style={{ width: `${progressPercentage}%` }}\n            />\n          </div>\n          <span className=\"time-display\">{formatTime(duration)}</span>\n        </div>\n      </div>\n\n      {/* Volume Controls */}\n      <div className=\"volume-controls\">\n        <button className=\"player-button\">\n          {volume === 0 ? 'üîá' : volume < 0.5 ? 'üîâ' : 'üîä'}\n        </button>\n        <div \n          className=\"volume-slider\"\n          onClick={handleVolumeClick}\n        >\n          <div \n            className=\"progress-fill\"\n            style={{ width: `${volumePercentage}%` }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AudioPlayer;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,KAAAC,mBAAA,CAAAC,oBAAA,CAAAC,qBAAA,CACxB,KAAM,CACJC,YAAY,CACZC,SAAS,CACTC,WAAW,CACXC,QAAQ,CACRC,MAAM,CACNC,eAAe,CACfC,MAAM,CACNC,QAAQ,CACRC,YAAY,CACZC,SAAS,CACTC,UACF,CAAC,CAAGnB,SAAS,CAAC,CAAC,CAEf,GAAI,CAACS,YAAY,CAAE,CACjB,MAAO,KAAI,CACb,CAEA,KAAM,CAAAW,mBAAmB,CAAIC,CAAC,EAAK,CACjC,KAAM,CAAAC,WAAW,CAAGD,CAAC,CAACE,aAAa,CACnC,KAAM,CAAAC,IAAI,CAAGF,WAAW,CAACG,qBAAqB,CAAC,CAAC,CAChD,KAAM,CAAAC,CAAC,CAAGL,CAAC,CAACM,OAAO,CAAGH,IAAI,CAACI,IAAI,CAC/B,KAAM,CAAAC,UAAU,CAAGH,CAAC,CAAGF,IAAI,CAACM,KAAK,CACjC,KAAM,CAAAC,OAAO,CAAGF,UAAU,CAAGjB,QAAQ,CACrCG,MAAM,CAACgB,OAAO,CAAC,CACjB,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAIX,CAAC,EAAK,CAC/B,KAAM,CAAAY,SAAS,CAAGZ,CAAC,CAACE,aAAa,CACjC,KAAM,CAAAC,IAAI,CAAGS,SAAS,CAACR,qBAAqB,CAAC,CAAC,CAC9C,KAAM,CAAAC,CAAC,CAAGL,CAAC,CAACM,OAAO,CAAGH,IAAI,CAACI,IAAI,CAC/B,KAAM,CAAAC,UAAU,CAAGH,CAAC,CAAGF,IAAI,CAACM,KAAK,CACjCZ,SAAS,CAACgB,IAAI,CAACC,GAAG,CAAC,CAAC,CAAED,IAAI,CAACE,GAAG,CAAC,CAAC,CAAEP,UAAU,CAAC,CAAC,CAAC,CACjD,CAAC,CAED,KAAM,CAAAQ,kBAAkB,CAAGzB,QAAQ,CAAID,WAAW,CAAGC,QAAQ,CAAI,GAAG,CAAG,CAAC,CACxE,KAAM,CAAA0B,gBAAgB,CAAGzB,MAAM,CAAG,GAAG,CAErC,mBACET,KAAA,QAAKmC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAE3BpC,KAAA,QAAKmC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtC,IAAA,QACEuC,GAAG,CAAE,EAAAnC,mBAAA,CAAAG,YAAY,CAACiC,KAAK,UAAApC,mBAAA,iBAAlBA,mBAAA,CAAoBqC,WAAW,KAAApC,oBAAA,CAAIE,YAAY,CAACmC,MAAM,UAAArC,oBAAA,iBAAnBA,oBAAA,CAAqBsC,aAAa,GAAI,wBAAyB,CACvGC,GAAG,CAAErC,YAAY,CAACsC,KAAM,CACxBC,OAAO,CAAG3B,CAAC,EAAK,CACdA,CAAC,CAAC4B,MAAM,CAACR,GAAG,CAAG,wBAAwB,CACzC,CAAE,CACH,CAAC,cACFrC,KAAA,QAAAoC,QAAA,eACEtC,IAAA,QAAKqC,SAAS,CAAC,aAAa,CAACW,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAM,CAAEC,YAAY,CAAE,KAAM,CAAE,CAAAZ,QAAA,CAC3E/B,YAAY,CAACsC,KAAK,CAChB,CAAC,cACN7C,IAAA,QAAKqC,SAAS,CAAC,cAAc,CAACW,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAX,QAAA,EAAAhC,qBAAA,CACvDC,YAAY,CAACmC,MAAM,UAAApC,qBAAA,iBAAnBA,qBAAA,CAAqB6C,IAAI,CACvB,CAAC,EACH,CAAC,EACH,CAAC,cAGNjD,KAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BpC,KAAA,QAAKmC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BtC,IAAA,WAAQqC,SAAS,CAAC,eAAe,CAACe,OAAO,CAAErC,YAAa,CAAAuB,QAAA,CAAC,cAEzD,CAAQ,CAAC,cACTtC,IAAA,WACEqC,SAAS,CAAC,2BAA2B,CACrCe,OAAO,CAAExC,eAAgB,CAAA0B,QAAA,CAExB9B,SAAS,CAAG,IAAI,CAAG,IAAI,CAClB,CAAC,cACTR,IAAA,WAAQqC,SAAS,CAAC,eAAe,CAACe,OAAO,CAAEtC,QAAS,CAAAwB,QAAA,CAAC,cAErD,CAAQ,CAAC,EACN,CAAC,cAENpC,KAAA,QAAKmC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCtC,IAAA,SAAMqC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAErB,UAAU,CAACR,WAAW,CAAC,CAAO,CAAC,cAC/DT,IAAA,QACEqC,SAAS,CAAC,cAAc,CACxBe,OAAO,CAAElC,mBAAoB,CAAAoB,QAAA,cAE7BtC,IAAA,QACEqC,SAAS,CAAC,eAAe,CACzBW,KAAK,CAAE,CAAEpB,KAAK,IAAAyB,MAAA,CAAKlB,kBAAkB,KAAI,CAAE,CAC5C,CAAC,CACC,CAAC,cACNnC,IAAA,SAAMqC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAErB,UAAU,CAACP,QAAQ,CAAC,CAAO,CAAC,EACzD,CAAC,EACH,CAAC,cAGNR,KAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BtC,IAAA,WAAQqC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC9B3B,MAAM,GAAK,CAAC,CAAG,IAAI,CAAGA,MAAM,CAAG,GAAG,CAAG,IAAI,CAAG,IAAI,CAC3C,CAAC,cACTX,IAAA,QACEqC,SAAS,CAAC,eAAe,CACzBe,OAAO,CAAEtB,iBAAkB,CAAAQ,QAAA,cAE3BtC,IAAA,QACEqC,SAAS,CAAC,eAAe,CACzBW,KAAK,CAAE,CAAEpB,KAAK,IAAAyB,MAAA,CAAKjB,gBAAgB,KAAI,CAAE,CAC1C,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}