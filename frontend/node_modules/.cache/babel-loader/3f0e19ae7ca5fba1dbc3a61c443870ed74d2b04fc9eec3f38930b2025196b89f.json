{"ast":null,"code":"import React from'react';import{usePlayer}from'../context/PlayerContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TrackCard=_ref=>{var _track$album,_track$artist,_track$artist2;let{track,showArtwork=true,showDuration=true}=_ref;const{playTrack,currentTrack,isPlaying}=usePlayer();const handlePlay=()=>{playTrack(track);};const formatDuration=seconds=>{if(!seconds)return'0:00';const minutes=Math.floor(seconds/60);const remainingSeconds=seconds%60;return\"\".concat(minutes,\":\").concat(remainingSeconds.toString().padStart(2,'0'));};const isCurrentTrack=(currentTrack===null||currentTrack===void 0?void 0:currentTrack.id)===track.id;return/*#__PURE__*/_jsxs(\"div\",{className:\"track-card\",onClick:handlePlay,children:[showArtwork&&/*#__PURE__*/_jsx(\"img\",{src:((_track$album=track.album)===null||_track$album===void 0?void 0:_track$album.cover_small)||((_track$artist=track.artist)===null||_track$artist===void 0?void 0:_track$artist.picture_small)||'/placeholder-album.png',alt:track.title,onError:e=>{e.target.src='/placeholder-album.png';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"track-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"track-title\",children:[isCurrentTrack&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#1db954',marginRight:'8px'},children:isPlaying?'':'革'}),track.title]}),/*#__PURE__*/_jsx(\"div\",{className:\"track-artist\",children:(_track$artist2=track.artist)===null||_track$artist2===void 0?void 0:_track$artist2.name})]}),showDuration&&/*#__PURE__*/_jsx(\"div\",{className:\"track-duration\",children:formatDuration(track.duration)}),/*#__PURE__*/_jsx(\"button\",{className:\"player-button\",style:{marginLeft:'10px',opacity:isCurrentTrack?1:0.7},onClick:e=>{e.stopPropagation();handlePlay();},children:isCurrentTrack&&isPlaying?'革':'讹'})]});};export default TrackCard;","map":{"version":3,"names":["React","usePlayer","jsx","_jsx","jsxs","_jsxs","TrackCard","_ref","_track$album","_track$artist","_track$artist2","track","showArtwork","showDuration","playTrack","currentTrack","isPlaying","handlePlay","formatDuration","seconds","minutes","Math","floor","remainingSeconds","concat","toString","padStart","isCurrentTrack","id","className","onClick","children","src","album","cover_small","artist","picture_small","alt","title","onError","e","target","style","color","marginRight","name","duration","marginLeft","opacity","stopPropagation"],"sources":["/workspace/frontend/src/components/TrackCard.js"],"sourcesContent":["import React from 'react';\nimport { usePlayer } from '../context/PlayerContext';\n\nconst TrackCard = ({ track, showArtwork = true, showDuration = true }) => {\n  const { playTrack, currentTrack, isPlaying } = usePlayer();\n\n  const handlePlay = () => {\n    playTrack(track);\n  };\n\n  const formatDuration = (seconds) => {\n    if (!seconds) return '0:00';\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  const isCurrentTrack = currentTrack?.id === track.id;\n\n  return (\n    <div className=\"track-card\" onClick={handlePlay}>\n      {showArtwork && (\n        <img \n          src={track.album?.cover_small || track.artist?.picture_small || '/placeholder-album.png'} \n          alt={track.title}\n          onError={(e) => {\n            e.target.src = '/placeholder-album.png';\n          }}\n        />\n      )}\n      \n      <div className=\"track-info\">\n        <div className=\"track-title\">\n          {isCurrentTrack && (\n            <span style={{ color: '#1db954', marginRight: '8px' }}>\n              {isPlaying ? '' : '革'}\n            </span>\n          )}\n          {track.title}\n        </div>\n        <div className=\"track-artist\">\n          {track.artist?.name}\n        </div>\n      </div>\n\n      {showDuration && (\n        <div className=\"track-duration\">\n          {formatDuration(track.duration)}\n        </div>\n      )}\n\n      <button \n        className=\"player-button\"\n        style={{ \n          marginLeft: '10px',\n          opacity: isCurrentTrack ? 1 : 0.7\n        }}\n        onClick={(e) => {\n          e.stopPropagation();\n          handlePlay();\n        }}\n      >\n        {isCurrentTrack && isPlaying ? '革' : '讹'}\n      </button>\n    </div>\n  );\n};\n\nexport default TrackCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}